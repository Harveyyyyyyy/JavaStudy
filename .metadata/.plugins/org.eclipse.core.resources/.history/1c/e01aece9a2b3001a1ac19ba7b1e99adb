package 实验2;

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.event.*;
import javax.swing.text.JTextComponent;
import javax.swing.*;

public class CalculateJFrame extends JFrame {
	
		private JTextField jt[];
		private JButton btn;
		private JComboBox comboBox1;
		private JComboBox comboBox2;
		private JComboBox comboBox3;
		private JComboBox comboBox4;
	public static void main(String[] arg){
		new CalculateJFrame();
	}
		

	public CalculateJFrame(){
		super("算数运算器");       //设置标题
		this.setBounds(300,400,300,350);    //设置位置和大小
		this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);//窗口关闭
		
		Container c=this.getContentPane();//获取窗体容器
		c.setLayout(null);//容器设置绝对布局
		
		
		String items[]= {"+","-","*","/","%"};//用字符串数组添加元素
		JComboBox comboBox1 =new JComboBox(items);//创建下拉列表框1
	    comboBox1.setBounds(50,50,40,30);
	    
	    c.add(comboBox1);//加入列表框1
	    JComboBox comboBox2 =new JComboBox(items);//创建下拉列表框2
	    comboBox2.setBounds(50,100,40,30);
	   
	    c.add(comboBox2);//加入列表框2
	    JComboBox comboBox3 =new JComboBox(items);//创建下拉列表框3
	    comboBox3.setBounds(50,150,40,30);
	    
	    c.add(comboBox3);//加入列表框3
	    JComboBox comboBox4 =new JComboBox(items);//创建下拉列表框4
	    comboBox4.setBounds(50,200,40,30);
	   
	    c.add(comboBox4);//加入列表框4
		
		
		
		int n=6;
		JTextField jt[]=new JTextField[n];//设置文本框
	    for(int i=0;i<n;i++){             //for循环放置文本框
	    	jt[i]=new JTextField(20);	 
	    	jt[i].setBounds(100, 50*i+5, 150, 30);
	    	c.add(jt[i]);
	    }
	  
		JButton btn=new JButton("=");//设置按钮
		btn.addActionListener(new ActionListener(){//设置监听
			public void actionPerformed(ActionEvent e) {
				calculation();				
				}			
		});
		btn.setBounds(50, 255, 50, 30);//设置按钮的位置和大小
		c.add(btn);

		this.setVisible(true);     //设置窗体可见
	}	
		
		public void calculation(){//计算方式
			double num1 = Double.parseDouble(jt[0].getText());
			double num2 = Double.parseDouble(jt[1].getText());	
			double num3 = Double.parseDouble(jt[2].getText());
			double num4 = Double.parseDouble(jt[3].getText());
		    double num5 = Double.parseDouble(jt[4].getText());
//		    double num6 = Double.parseDouble(jt[5].getText());
		    double num6 = 0;
		    char ope1=(char) comboBox1.getSelectedItem();
		    char ope2=(char) comboBox2.getSelectedItem();
		    char ope3=(char) comboBox3.getSelectedItem();
		    char ope4=(char) comboBox4.getSelectedItem();
		    
		    num6=num1ope1num2;
			
		    if((comboBox1.getSelectedIndex()==3&&num2==0)|(comboBox1.getSelectedIndex()==4&&num2==0))
		    	this.jt[5].setText("分母不能为零");
		    else if((comboBox2.getSelectedIndex()==3&&num3==0)|(comboBox2.getSelectedIndex()==4&&num3==0))
		    	this.jt[5].setText("分母不能为零");
		    else if((comboBox3.getSelectedIndex()==3&&num4==0)|(comboBox3.getSelectedIndex()==4&&num4==0))
			    this.jt[5].setText("分母不能为零");
		    else if((comboBox4.getSelectedIndex()==3&&num5==0)|(comboBox4.getSelectedIndex()==4&&num5==0))
		    	this.jt[5].setText("分母不能为零");
		    else {num6=num1+ope1+num2+ope2+num3+ope3+num4+ope4+num5;
		          jt[5].setText(num6);
		    }
		    }
}
